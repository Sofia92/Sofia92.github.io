<table class="wrapped confluenceTable" resolved=""><colgroup><col><col><col><col><col><col></colgroup><tbody><tr><th colspan="6" class="confluenceTh"><p style="text-align: center;" align="center">Angular与四层架构模式</p></th></tr><tr><th colspan="2" class="confluenceTh"><p style="text-align: center;" align="center">四层架构</p></th><th colspan="4" class="confluenceTh"><p style="text-align: center;" align="center">Angular实现</p></th></tr><tr><td class="confluenceTd"><p>层级</p></td><td class="confluenceTd"><p>职责</p></td><td class="confluenceTd"><p>内容</p></td><td class="confluenceTd"><p>逻辑区域</p></td><td class="confluenceTd"><p>实例化区域</p></td><td class="confluenceTd"><p>活动区域</p></td></tr><tr><td rowspan="5" class="confluenceTd"><p>表现层</p></td><td rowspan="2" class="confluenceTd"><p>UI展现</p></td><td class="confluenceTd"><p>视图的样式，排版，布局</p></td><td class="confluenceTd"><p>CSS样式</p></td><td rowspan="5" class="confluenceTd"><p>angular内部</p><p>静态配置于NgModule和注解元数据</p></td><td rowspan="5" class="confluenceTd"><p>angular内部</p></td></tr><tr><td class="confluenceTd"><p>视图内容模版</p></td><td class="confluenceTd"><p>HTML模版</p></td></tr><tr><td rowspan="3" class="confluenceTd"><p>UI逻辑</p></td><td class="confluenceTd"><p>处理展示数据，更新视图内容</p></td><td rowspan="2" class="confluenceTd"><p>Component</p></td></tr><tr><td class="confluenceTd"><p>响应用户操作</p></td></tr><tr><td class="confluenceTd"><p>控制视图路由，跳转</p></td><td class="confluenceTd"><p>Routing</p></td></tr><tr><td class="confluenceTd"><p>应用层</p></td><td class="confluenceTd"><p>用例逻辑</p></td><td class="confluenceTd"><p>用例编排</p></td><td class="confluenceTd"><p>Service(应用服务)</p></td><td class="confluenceTd"><p>依赖注入</p><p>&nbsp;</p></td><td class="confluenceTd"><p>推荐在Component和其他应用服务活动</p><p>禁止在其他区域活动</p></td></tr><tr><td rowspan="2" class="confluenceTd"><p>领域层</p></td><td rowspan="2" class="confluenceTd"><p>领域业务逻辑</p></td><td class="confluenceTd"><p>业务编排</p></td><td class="confluenceTd"><p>Service(领域服务)</p></td><td class="confluenceTd"><p>依赖注入</p><p>&nbsp;</p></td><td class="confluenceTd"><p>推荐在应用服务和其他领域服务</p><p>允许在Component活动</p><p>禁止其他区域活动</p></td></tr><tr><td class="confluenceTd"><p>业务模型</p></td><td class="confluenceTd"><p>Class(领域模型)</p></td><td class="confluenceTd"><p>推荐在应用服务和模型工厂实例化</p><p>允许在领域服务和Component实例化</p></td><td class="confluenceTd"><p>推荐在应用服务,领域服务和其他业务模型活动</p><p>推荐在Component只读(转为DTO)活动，允许可写活动</p><p>禁止在其他区域进行写操作活动</p></td></tr><tr><td rowspan="7" class="confluenceTd"><p style="text-align: center;" align="center">基础设施层</p></td><td rowspan="4" class="confluenceTd"><p>数据持久化</p></td><td class="confluenceTd"><p>业务模型管理</p></td><td class="confluenceTd"><p>Service(仓库服务)</p></td><td class="confluenceTd"><p>依赖注入</p><p>&nbsp;</p></td><td class="confluenceTd"><p>推荐在应用服务和领域服务，其他仓库服务活动</p><p>允许在Component活动</p><p>禁止其他区域活动</p></td></tr><tr><td class="confluenceTd"><p>模型实例化</p></td><td class="confluenceTd"><p>Class(模型工厂)</p></td><td class="confluenceTd"><p>推荐在仓库服务实例化</p><p>允许在领域服务，应用服务和Component实例化</p><p>禁止在其他区域实例化</p></td><td class="confluenceTd"><p>推荐在仓库服务活动</p><p>允许在领域服务，应用服务和Component活动</p><p>禁止在其他区域活动</p></td></tr><tr><td class="confluenceTd"><p>模型序列化</p></td><td class="confluenceTd"><p>Class(序列化器)</p></td><td class="confluenceTd"><p>推荐在仓库服务实例化</p><p>允许在应用服务实例化</p><p>禁止在其他区域实例化</p></td><td class="confluenceTd"><p>推荐在仓库服务活动</p><p>允许在应用服务活动</p><p>禁止在其他区域活动</p></td></tr><tr><td class="confluenceTd"><p>底层持久化</p></td><td class="confluenceTd"><p>Service(HttpClient等)</p></td><td class="confluenceTd"><p>依赖注入</p></td><td class="confluenceTd"><p>推荐在仓库服务活动</p><p>允许在应用服务，领域服务，Component活动</p><p>禁止在其他区域活动</p></td></tr><tr><td class="confluenceTd"><p>框架服务</p></td><td class="confluenceTd"><p>HttpClient，Router，ActivedRoute等等angular服务</p></td><td class="confluenceTd"><p>Service(angular服务)</p></td><td class="confluenceTd"><p>依赖注入</p></td><td class="confluenceTd"><p>推荐在其他非领域服务和Component活动</p></td></tr><tr><td class="confluenceTd"><p>其他服务</p></td><td class="confluenceTd"><p>log服务，第三方系统服务等等</p></td><td class="confluenceTd"><p>Service(其他服务)</p></td><td class="confluenceTd"><p>依赖注入</p></td><td class="confluenceTd"><p>其他服务和Component活动</p></td></tr><tr><td class="confluenceTd"><p>基础库</p></td><td class="confluenceTd"><p>数据结构，算法，基础API等等基础库</p></td><td class="confluenceTd"><p>基础库</p></td><td class="confluenceTd"><p>Any</p></td><td class="confluenceTd"><p>Any</p></td></tr></tbody></table>